<div  class="container">

<div ng-if="!signupCtrl.submitted" class="form">
  <form name="signup" novalidate>
    <div class="form-group">
      <label>First Name:</label>
      <input type="text" class="form-control" name="firstname"
             ng-model="signupCtrl.firstname"
             required>
      <span ng-if="signup.firstname.$error.required && signup.firstname.$touched"
            class="error-text">
        First Name cannot be empty
      </span>
    </div>
    <div class="form-group">
      <label>Last Name:</label>
      <input type="text" class="form-control" name="lastname"
             ng-model="signupCtrl.lastname"
             required>
      <span ng-if="signup.lastname.$error.required && signup.lastname.$touched"
             class="error-text">
         Last Name cannot be empty
      </span>
    </div>
    <div class="form-group">
      <label>Email:</label>
      <input type="email" class="form-control" name="email"
             ng-model="signupCtrl.email"
             required>
      <span ng-if="signup.email.$invalid && signup.email.$touched"
           class="error-text">
       Must be a valid email in the format name@domain.com
      </span>
    </div>
    <div class="form-group">
      <label>Phone number:</label>
      <input type="text" class="form-control" name="phone" placeholder="###-###-####"
             ng-model="signupCtrl.phone"
             pattern="(\d{3})-(\d{3})-(\d{4})"
             required>
      <span ng-if="signup.phone.$invalid && signup.phone.$touched"
          class="error-text">
          Must be a valid phone number in the format ###-###-####
      </span>
    </div>
    <div class="form-group">
      <label>Menu number of your favorite dish:</label>
      <input type="text" class="form-control" name="dish" placeholder="Ex. L1, A1"
             ng-model="signupCtrl.dish"
             ng-minlength="2"
             pattern="[a-zA-Z]\d+"
             required
             favorite />
      <span ng-if="signup.dish.$invalid && signup.dish.$touched
                   && !signup.dish.$error.favorite"
         class="error-text">
         Menu number must be in valid format containing a capital letter followed by number(s)
      </span>
      <span ng-if="signup.dish.$pending">
        Checking if dish is valid...
      </span>
      <span ng-if="!signupCtrl.validDish
                  && signup.dish.$error.favorite"
            class="error-text">
        No such menu number exists.
      </span>
    </div>
    <div class="form-group">
      <button class="btn btn-success"
              ng-disabled="signup.$invalid || signup.dish.$pending.favorite"
              ng-click="signupCtrl.submitForm()">Submit</button>
    </div>
    
  </form>
 
</div>
 <span ng-if="signupCtrl.submitted && signupCtrl.validDish">
      Your information has been  <a ui-sref="public.myinfo">saved.</a>
    </span>
</div>